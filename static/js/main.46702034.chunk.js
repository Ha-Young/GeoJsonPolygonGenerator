(this.webpackJsonpgeojson_polygon_map=this.webpackJsonpgeojson_polygon_map||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),s=a(7),c=a.n(s),r=(a(12),a(6)),l=a(2),i=(a(13),a(0));function u(){return Object(i.jsx)("div",{className:"informationWrapper",children:Object(i.jsx)("p",{children:Object(i.jsxs)("em",{children:["\uc9c0\ub3c4\ub97c \ub9c8\uc6b0\uc2a4\ub85c \ud074\ub9ad\ud558\uba74 \ub2e4\uac01\ud615 \uadf8\ub9ac\uae30\uac00 \uc2dc\uc791\ub418\uace0 ",Object(i.jsx)("br",{}),"\uc624\ub978\ucabd \ub9c8\uc6b0\uc2a4\ub97c \ud074\ub9ad\ud558\uba74 \ub2e4\uac01\ud615 \uadf8\ub9ac\uae30\uac00 \uc885\ub8cc\ub429\ub2c8\ub2e4"]})})})}a(15);function p(e){var t=e.areaName,a=e.onAreaNameChange,n=e.polygonExtractMode,o=e.onGetPolygonBtnClick;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"areaNameInputWrapper",children:[Object(i.jsx)("label",{htmlFor:"areaName",children:"\ucd94\uac00\ud560 \uc7a5\uc18c \uc774\ub984"}),Object(i.jsx)("input",{name:"areaName",value:t,onChange:a}),Object(i.jsx)("button",{onClick:o,children:n?"\ucd94\ucd9c \uc885\ub8cc\ud558\uae30":"\ucd94\ucd9c \ud558\uae30"})]}),n&&Object(i.jsx)(u,{})]})}a(16);var f="#f55c47";function m(e){var t=e.center,a=e.level,o=e.areas,s=e.onGeoJsonPolygonAdd,c=e.polygonExtractMode,r=e.onCenterChange,u=Object(n.useState)(null),p=Object(l.a)(u,2),m=p[0],g=p[1],v=Object(n.useRef)([]);function d(e){var t=new kakao.maps.CustomOverlay({}),a=e.location.coordinates[0].map((function(e){return new kakao.maps.LatLng(e[0],e[1])})),n=new kakao.maps.Polygon({map:m,path:a,strokeWeight:2,strokeColor:f,strokeOpacity:.8,fillColor:"#fff",fillOpacity:.7});return kakao.maps.event.addListener(n,"mouseover",(function(a){n.setOptions({fillColor:f}),t.setContent('<div class="area-overay">'+e.name+"</div>"),t.setPosition(a.latLng),t.setMap(m)})),kakao.maps.event.addListener(n,"mousemove",(function(e){t.setPosition(e.latLng)})),kakao.maps.event.addListener(n,"mouseout",(function(){n.setOptions({fillColor:"#fff"}),t.setMap(null)})),n}return Object(n.useEffect)((function(){var e=document.createElement("script");e.async=!0,e.src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=".concat("047081f406003e7c4dbc64e154972089","&autoload=false"),document.head.appendChild(e),e.onload=function(){kakao.maps.load((function(){var e=document.getElementById("map"),n={center:new kakao.maps.LatLng(t[0],t[1]),level:a},o=new window.kakao.maps.Map(e,n);g(o)}))}}),[t,a]),Object(n.useEffect)((function(){var e,t,a,n=!1;function o(e){var t=e.latLng,a=m.getLevel()-1;r({lat:t.getLat(),lng:t.getLng(),level:a})}function l(o){if(c){var s=o.latLng;if(n){var r=e.getPath();r.push(s),e.setPath(r);var l=t.getPath();l.push(s),t.setPath(l)}else n=!0,t&&(t.setMap(null),t=null),a&&(a.setMap(null),a=null),e=new kakao.maps.Polygon({map:m,path:[s],strokeWeight:3,strokeColor:f,strokeOpacity:1,strokeStyle:"solid",fillColor:f,fillOpacity:.2}),t=new kakao.maps.Polygon({path:[s],strokeWeight:3,strokeColor:f,strokeOpacity:1,strokeStyle:"solid",fillColor:f,fillOpacity:.2})}}function i(t){if(n){var a=t.latLng,o=e.getPath();o.length>1&&o.pop(),o.push(a),e.setPath(o)}}function u(o){if(n){e.setMap(null),e=null;var c=t.getPath();if(c.length>2){t.setMap(m);var r='<div class="info">\ucd1d\uba74\uc801 <span class="number"> '+Math.round(t.getArea())+"</span> m<sup>2</sup></div>";a=new kakao.maps.CustomOverlay({map:m,content:r,xAnchor:0,yAnchor:0,position:c[c.length-1]});var l={type:"Polygon",coordinates:[[]]};for(var i in c){var u=c[i].getLat(),p=c[i].getLng();l.coordinates[0].push([u,p])}var f=c[0].getLat(),g=c[0].getLng();l.coordinates[0].push([f,g]),s(l,m.getCenter(),m.getLevel())}else t=null;n=!1}}return m&&(kakao.maps.event.addListener(m,"dblclick",o),kakao.maps.event.addListener(m,"click",l),kakao.maps.event.addListener(m,"mousemove",i),kakao.maps.event.addListener(m,"rightclick",u)),function(){m&&(kakao.maps.event.removeListener(m,"dblclick",o),kakao.maps.event.removeListener(m,"click",l),kakao.maps.event.removeListener(m,"mousemove",i),kakao.maps.event.removeListener(m,"rightclick",u))}}),[m,r,s,c]),Object(n.useEffect)((function(){if(m&&o&&o.length>0){v.current.forEach((function(e){return e.setMap(null)})),v.current=[];for(var e=0,t=o.length;e<t;e++){var a=d(o[e]);v.current.push(a)}}}),[o,m]),Object(i.jsx)("div",{id:"map",className:"map"})}var g=o.a.memo(m);a(17);function v(e){var t=e.resultText,a=e.onResultTextChange,o=Object(n.useState)(t),s=Object(l.a)(o,2),c=s[0],r=s[1];return Object(n.useEffect)((function(){r(t)}),[t]),Object(i.jsxs)("div",{className:"resultTextAreaWrapper",children:[Object(i.jsx)("textarea",{value:c,onChange:function(e){r(e.target.value),a(e.target.value)}}),Object(i.jsx)("button",{className:"copyBtn",onClick:function(){navigator.clipboard.writeText(t).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)}))},children:"copy"})]})}var d=function(){var e=Object(n.useState)([37.558309,126.925776]),t=Object(l.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)(7),c=Object(l.a)(s,2),u=c[0],f=c[1],m=Object(n.useState)(""),d=Object(l.a)(m,2),k=d[0],j=d[1],h=Object(n.useState)([]),b=Object(l.a)(h,2),O=b[0],y=b[1],x=Object(n.useState)(!1),C=Object(l.a)(x,2),L=C[0],P=C[1],N=JSON.stringify(O,null,4),w=Object(n.useCallback)((function(e,t,a){if(k){var n={name:k,location:e},s=[].concat(Object(r.a)(O),[n]);y(s),o([t.getLat(),t.getLng()]),f(a),j(""),P(!L)}else alert("\uc7a5\uc18c \uc774\ub984\uc744 \uc801\uc5b4\uc8fc\uc138\uc694 :)")}),[k,O,L]);return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(g,{center:a,level:u,polygonExtractMode:L,onGeoJsonPolygonAdd:w,onCenterChange:function(e){var t=e.lat,a=e.lng,n=e.level;o([t,a]),f(n)},areas:O}),Object(i.jsx)(p,{areaName:k,onAreaNameChange:function(e){e.preventDefault(),j(e.target.value)},polygonExtractMode:L,onGetPolygonBtnClick:function(){P(!L)}}),Object(i.jsx)(v,{resultText:N,onResultTextChange:function(e){try{var t=JSON.parse(e);y(t)}catch(a){console.log(a),y(Object(r.a)(O))}}})]})};c.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(d,{})}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.46702034.chunk.js.map